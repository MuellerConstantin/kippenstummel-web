@import "tailwindcss";
@plugin "tailwindcss-react-aria-components";

@custom-variant dark (&:where(.dark, .dark *));

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-outfit), sans-serif;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.dark .preview {
  filter: invert(100%) hue-rotate(180deg) brightness(95%) contrast(90%);
}

.dark .maplibregl-canvas {
  filter: invert(100%) hue-rotate(180deg) brightness(95%) contrast(90%);
}

.maplibregl-ctrl a {
  outline: none;
  box-shadow: none;
}

.maplibregl-ctrl a:focus {
  outline: none !important;
  box-shadow: none !important;
}

.maplibregl-ctrl a:focus-visible {
  outline: 2px solid #16a34a !important;
  outline-offset: 0px;
  box-shadow: none !important;
}

.maplibregl-ctrl-group {
  @apply !rounded-md !bg-transparent;
}

.maplibregl-ctrl-group:not(:empty) {
  @apply !shadow-[0_0_0_2px_#0000001a];
}

.dark .maplibregl-ctrl-group:not(:empty) {
  @apply !shadow-[0_0_0_2px_#ffffff1a];
}

.maplibregl-ctrl button {
  @apply !bg-white/70 !text-slate-900 !backdrop-blur-md hover:!bg-slate-100;
}

.maplibregl-ctrl-group button:first-of-type:not(:only-of-type) {
  @apply !rounded-t-md !rounded-b-none;
}

.maplibregl-ctrl-group button:last-of-type:not(:only-of-type) {
  @apply !rounded-t-none !rounded-b-md;
}

.maplibregl-ctrl-group button:only-of-type {
  @apply !rounded-md;
}

.maplibregl-ctrl button:focus-visible {
  outline: 2px solid #16a34a !important;
  outline-offset: 0px;
  box-shadow: none !important;
}

.dark .maplibregl-ctrl-group button {
  @apply !bg-slate-900/60 !text-white hover:!bg-slate-800;
}

.dark .maplibregl-ctrl .maplibregl-ctrl-icon {
  background-color: transparent !important;
  filter: invert(1) brightness(2);
}

.maplibregl-ctrl-attrib {
  font-size: 10px !important;
}

.maplibregl-ctrl-attrib {
  @apply !bg-white/30 !text-slate-900;
}

.maplibregl-ctrl-attrib-inner a {
  @apply !text-green-600 !decoration-green-600/60 hover:!underline hover:!decoration-green-600;
}

.dark .maplibregl-ctrl-attrib {
  @apply !bg-slate-900/30 !text-white;
}

.maplibregl-ctrl-attrib-button {
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' fill='#1e293b' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");
}

.maplibregl-ctrl-attrib-button:focus {
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1) !important;
}

.dark .maplibregl-ctrl-attrib-button {
  @apply !bg-slate-800;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' fill='white' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");
}

.dark .maplibregl-ctrl-attrib-inner a {
  @apply !text-green-500 !decoration-green-500/60 hover:!decoration-green-500;
}

.maplibregl-popup-content {
  @apply !rounded-md !p-2 !text-slate-800;
}

.dark .maplibregl-popup-content {
  @apply !bg-slate-900 !text-white;
}

.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content {
  @apply !rounded-br-none;
}

.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content {
  @apply !rounded-bl-none;
}

.maplibregl-popup-anchor-top-right .maplibregl-popup-content {
  @apply !rounded-tr-none;
}

.maplibregl-popup-anchor-top-left .maplibregl-popup-content {
  @apply !rounded-tl-none;
}

.dark .maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
  @apply !border-t-slate-900;
}

.dark .maplibregl-popup-anchor-top .maplibregl-popup-tip {
  @apply !border-b-slate-900;
}

.dark .maplibregl-popup-anchor-left .maplibregl-popup-tip {
  @apply !border-r-slate-900;
}

.dark .maplibregl-popup-anchor-right .maplibregl-popup-tip {
  @apply !border-l-slate-900;
}

.dark .maplibregl-popup-anchor-top-left .maplibregl-popup-tip {
  @apply !border-b-slate-900;
}

.dark .maplibregl-popup-anchor-top-right .maplibregl-popup-tip {
  @apply !border-b-slate-900;
}

.dark .maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip {
  @apply !border-t-slate-900;
}

.dark .maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip {
  @apply !border-t-slate-900;
}

.bg-map-pattern {
  background-color: #fafafa;
  background-image:
    linear-gradient(to right, rgba(0, 0, 0, 0.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.06) 1px, transparent 1px),
    linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
  background-size:
    160px 160px,
    160px 160px,
    32px 32px,
    32px 32px;
  -webkit-mask-image:
    linear-gradient(to right, transparent, black 12%, black 88%, transparent),
    linear-gradient(to bottom, transparent, black 12%, black 88%, transparent);
  -webkit-mask-composite: intersect;
  mask-image:
    linear-gradient(to right, transparent, black 12%, black 88%, transparent),
    linear-gradient(to bottom, transparent, black 12%, black 88%, transparent);
  mask-composite: intersect;
}

.dark .bg-map-pattern {
  background-color: #1e293b;
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.07) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.07) 1px, transparent 1px),
    linear-gradient(to right, rgba(255, 255, 255, 0.035) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.035) 1px, transparent 1px);
  background-size:
    160px 160px,
    160px 160px,
    32px 32px,
    32px 32px;

  -webkit-mask-image:
    linear-gradient(to right, transparent, black 12%, black 88%, transparent),
    linear-gradient(to bottom, transparent, black 12%, black 88%, transparent);
  -webkit-mask-composite: intersect;
  mask-image:
    linear-gradient(to right, transparent, black 12%, black 88%, transparent),
    linear-gradient(to bottom, transparent, black 12%, black 88%, transparent);
  mask-composite: intersect;
}
